<?xml version="1.0" encoding="UTF-8" ?>

<f:view
		xmlns="http://www.w3.org/1999/xhtml"
		xmlns:c="http://java.sun.com/jsp/jstl/core"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:bridge="http://liferay.com/faces/bridge"
		xmlns:portlet="http://java.sun.com/portlet_2_0"
>

	<h:head />
	<h:body>


		<h:form id="publishFolderForm" styleClass="ajax-form">
			<div class="ajax-mask"></div>

			<h3>
				<h:outputText value="#{bundle['publish-folder']}" />
			</h3>

			<div class="msg-wrap">
				<h:messages showSummary="true" showDetail="false" />
			</div>

			<div>
				<h:outputLabel for="unpublish" value="#{bundle['folder-to-unpublish']}" />
				<h:selectOneMenu id="unpublish" value="#{publishFolderBackingBean.folderIdToUnpublish}">
					<f:selectItem itemValue="#{null}" itemLabel="#{bundle['choose-folder']}" />
					<f:selectItems value="#{cloneFolderBackingBean.rootFolders}" var="folder" itemLabel="#{folder.name}" itemValue="#{folder.folderId}"  />
				</h:selectOneMenu>
			</div>

			<div>
				<h:outputLabel for="publish" value="#{bundle['folder-to-publish']}" />
				<h:selectOneMenu id="publish" value="#{publishFolderBackingBean.folderIdToPublish}">
					<f:selectItem itemValue="#{null}" itemLabel="#{bundle['choose-folder']}" />
					<f:selectItems value="#{cloneFolderBackingBean.rootFolders}" var="folder" itemLabel="#{folder.name}" itemValue="#{folder.folderId}"  />
				</h:selectOneMenu>
			</div>

			<div class="button-holder">
				<h:commandButton id="submitButton" value="#{bundle['unpublish-and-publish']}" styleClass="btn btn-primary">
					<f:ajax execute=":publishFolderForm" listener="#{publishFolderBackingBean.publishFolder}"
							onevent="function eventHandler(data) {ReklistanOmstallning.ajaxEventHandler(data, '#{publishFolderBackingBean.portletNamespace}')}"
							render=":publishFolderForm" />
				</h:commandButton>

				<h:button styleClass="btn" value="#{bundle['go-back']}" outcome="view" />
			</div>

			<div>

			</div>

		</h:form>

	</h:body>
</f:view>
